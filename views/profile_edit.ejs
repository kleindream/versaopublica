<%- include("layout", { title: "Editar perfil", body: `
  <div class="card">
    <div class="h">Editar perfil</div>
    ${error ? `<div class="card" style="border-color:#6b2033;background:#2a0a12;">${error}</div>` : ""}
    ${ok ? `<div class="card" style="border-color:#1e5f2b;background:#0b2411;">${ok}</div>` : ""}

    <form method="post" action="/profile/edit">
      <div class="h" style="font-size:14px;margin:8px 0 6px;">Básico</div>

      <label class="small">Nome completo</label>
      <input name="full_name" value="${me.full_name || ""}" />

      <br/><br/>
      <label class="small">Cidade</label>
      <input name="city" value="${me.city || ""}" />

      <br/><br/>
      <label class="small">Estado</label>
      <input name="state" value="${me.state || ""}" />

      <br/><br/>
      <label class="small">Sobre mim</label>
      <textarea name="bio">${me.bio || ""}</textarea>

      <hr/>
      <div class="h" style="font-size:14px;margin:8px 0 6px;">Detalhes (estilo Orkut)</div>

      <label class="small">Data de nascimento</label>
      <input name="birth_date" placeholder="YYYY-MM-DD" value="${me.birth_date || ""}" />

      <br/><br/>
      <label class="small">Estado civil</label>
      <select name="marital_status">
        ${selectOpt(me.marital_status, "", "(não informar)")}
        ${selectOpt(me.marital_status, "Solteiro(a)", "Solteiro(a)")}
        ${selectOpt(me.marital_status, "Namorando", "Namorando")}
        ${selectOpt(me.marital_status, "Casado(a)", "Casado(a)")}
        ${selectOpt(me.marital_status, "Divorciado(a)", "Divorciado(a)")}
        ${selectOpt(me.marital_status, "É complicado", "É complicado")}
      </select>

      <br/><br/>
      <label class="small">Time de futebol</label>
      <input name="favorite_team" value="${me.favorite_team || ""}" />

      <br/><br/>
      <label class="small">Profissão</label>
      <input name="profession" value="${me.profession || ""}" />

      <br/><br/>
      <label class="small">Escolaridade</label>
      <input name="education" value="${me.education || ""}" />

      <br/><br/>
      <label class="small">Filhos</label>
      <input name="children" placeholder="Ex.: Não / Sim / Quantos" value="${me.children || ""}" />

      <br/><br/>
      <label class="small">Website</label>
      <input name="website" placeholder="https://" value="${me.website || ""}" />

      <br/><br/>
      <label class="small">Hobbies</label>
      <input name="hobbies" placeholder="Ex.: games, filmes, informática" value="${me.hobbies || ""}" />

      <hr/>
      <div class="h" style="font-size:14px;margin:8px 0 6px;">Gostos</div>

      <label class="small">Música favorita</label>
      <input name="favorite_music" value="${me.favorite_music || ""}" />

      <br/><br/>
      <label class="small">Filme favorito</label>
      <input name="favorite_movie" value="${me.favorite_movie || ""}" />

      <br/><br/>
      <label class="small">Jogo favorito</label>
      <input name="favorite_game" value="${me.favorite_game || ""}" />

      <hr/>
      <div class="h" style="font-size:14px;margin:8px 0 6px;">Social</div>

      <label class="small">O que você procura aqui?</label>
      <input name="looking_for" placeholder="Ex.: amizades, networking" value="${me.looking_for || ""}" />

      <br/><br/>
      <label class="small">Humor de hoje</label>
      <input name="mood" placeholder="Ex.: feliz, neutro, pensativo" value="${me.mood || ""}" />

      <br/><br/>
      <label class="small">Frase do dia</label>
      <input name="daily_phrase" value="${me.daily_phrase || ""}" />

      <br/>
      <button class="btn" type="submit">Salvar</button>
    </form>
  </div>
` }) %>

<% function selectOpt(current, value, label){
  const sel = (String(current || "") === String(value)) ? "selected" : "";
  return `<option value="${value}" ${sel}>${label}</option>`;
} %>
